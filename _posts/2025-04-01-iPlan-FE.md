---
title: "[iPlan í”„ë¡œì íŠ¸] ìƒíƒœ ê´€ë¦¬ ë¦¬íŒ©í† ë§ (Context API & Reducer)"
date: 2025-04-01 10:00:00 +0900
categories: [ReactNative, ContextAPI]
tags: [ReactNative, ContextAPI, Reducer, useState]
pin: true
---

React Native ì•±ì—ì„œ Planê³¼ Reward ê¸°ëŠ¥ì„ Context APIì™€ Reducerë¡œ ë¦¬íŒ©í† ë§í•˜ëŠ” ê³¼ì •ê³¼ ì½”ë“œë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.

---

## ðŸ“Œ í”„ë¡œì íŠ¸ êµ¬ì¡° ë¦¬íŒ©í† ë§

ì´ë²ˆ ë¦¬íŒ©í† ë§ì˜ ëª©í‘œëŠ” ê¸°ì¡´ `useState`ë¡œ ê´€ë¦¬í•˜ë˜ Planê³¼ Reward ìƒíƒœë¥¼ `Context API`ì™€ `Reducer`ë¡œ ê´€ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ëŠ” ê²ƒìž…ë‹ˆë‹¤.


## ðŸ”¨ PlanContext, RewardContext ì •ì˜í•˜ê¸°

### ðŸ“‚ `context/plan/planReducer.ts`

```typescript
export interface Plan {
  id: string;
  title: string;
  post_date: string;
  is_completed: boolean;
}

type PlanState = { plans: Plan[]; };

type PlanAction =
  | { type: 'SET_PLANS'; payload: Plan[] }
  | { type: 'ADD_PLAN'; payload: Plan }
  | { type: 'UPDATE_PLAN'; payload: Plan };

const planReducer = (state: PlanState, action: PlanAction): PlanState => {
  switch (action.type) {
    case 'SET_PLANS':
      return { plans: action.payload };
    case 'ADD_PLAN':
      return { plans: [...state.plans, action.payload] };
    case 'UPDATE_PLAN':
      return {
        plans: state.plans.map(plan =>
          plan.id === action.payload.id ? action.payload : plan
        ),
      };
    default:
      return state;
  }
};

export default planReducer;
```

